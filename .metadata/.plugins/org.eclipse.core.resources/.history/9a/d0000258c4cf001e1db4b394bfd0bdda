package com.example.vehicle.serviceimpl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.vehicle.dto.VehicleDto;
import com.example.vehicle.model.Vehicle;
import com.example.vehicle.modelmapper.VehicleMapper;
import com.example.vehicle.repository.VehicleRepository;
import com.example.vehicle.service.VehicleService;

@Service
public class VehicleServiceImpl implements VehicleService {

	@Autowired
	private VehicleRepository vehicleRepo;
	
	@Override
	public String addVehicle(VehicleDto vehicleDto) {
		// TODO Auto-generated method stub
		Vehicle existingVehicle=vehicleRepo.findVehicleById(vehicleDto.getVehicleNo());
		if(existingVehicle!=null) {
			return "User already exists";
			
		}
		else {
			//convert dto to entity
			Vehicle vehicle= VehicleMapper.mapToVehicle(vehicleDto);
			Vehicle saveVehicle=vehicleRepo.save(vehicle);
			
			// convert entity to dto
			VehicleDto vehicledtos=VehicleMapper.mapToVehicleDto(saveVehicle);
			return "Vehicle added successfully";
		}
		
	}

	@Override
	public VehicleDto viewVehilce(VehicleDto vehicle) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<VehicleDto> viewAll() {
		// TODO Auto-generated method stub
		return null;
	}

	

	@Override
	public VehicleDto modifyVehicleById(int vehicleNo) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public VehicleDto deleteVehicle(int vehicleNo) {
		// TODO Auto-generated method stub
		return null;
	}

}
